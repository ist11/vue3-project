抽取的有状态的逻辑函数